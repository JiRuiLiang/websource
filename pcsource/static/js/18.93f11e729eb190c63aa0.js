webpackJsonp([18],{FLHn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("ytf2"),n=s("NYxO"),i=s("Tnm7");function r(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function a(n,i){try{var r=e[n](i),o=r.value}catch(t){return void s(t)}if(!r.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}("next")})}}var c={data:function(){return{toChain:{},list:[],poolAbi:"",tokenPoolAbi:"",poolAddress:"",timeId:null}},computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t})({},Object(n.c)({mateMaskToken:function(t){return t.app.mateMaskToken},chainObj:function(t){return t.app.chainObj},language:function(t){return t.app.language}})),mounted:function(){var t=this;return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initData();case 2:t.timewait();case 3:case"end":return e.stop()}},e,t)}))()},beforeDestroy:function(){clearInterval(this.timeId)},methods:{getSummary:function(t){return"en"===this.language?t.sSummary_en:t.sSummary_ch},initData:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var s,n,i,o,c,u,l,v,d,m,p,h,_,f,g,C,b,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$util.getChainKey(),e.next=3,t.$api.GetSystemConfig({sAppId:s,sKey1:"IDO"});case 3:if(n=e.sent,(i=n.vList)&&i.length){e.next=8;break}return t.$message.error(t.$t("message.bridge_35")),e.abrupt("return");case 8:for(o=!0,c=!1,u=void 0,e.prev=11,l=i[Symbol.iterator]();!(o=(v=l.next()).done);o=!0)"IdoPoolFactoryAbi"===(d=v.value).sKey2&&(t.poolAbi=d.sValue),"IdoPoolFactoryAddress"===d.sKey2&&(t.poolAddress=d.sValue),"IdoTokenPoolAbi"===d.sKey2&&(t.tokenPoolAbi=d.sValue);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),c=!0,u=e.t0;case 19:e.prev=19,e.prev=20,!o&&l.return&&l.return();case 22:if(e.prev=22,!c){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,t.$api.GetSystemConfig({sAppId:s,sKey1:"IDOData"});case 29:return m=e.sent,p=m.vList,Object(a.b)(),h=new web3.eth.Contract(JSON.parse(t.poolAbi),t.poolAddress),e.next=35,h.methods.getPoolsLength().call();case 35:_=e.sent,_=parseInt(_),f=0;case 38:if(!(f<_)){e.next=54;break}return e.next=41,h.methods.getPoolInfo(f).call();case 41:return g=e.sent,g=[].concat(r(g),[f+1]),C={},C=p[f]?JSON.parse(p[f].sValue):JSON.parse(p[0].sValue),b={tokenPoolName:g[0],tokenContractAddress:g[1],poolStartTime:g[2],poolEndTime:g[3],poolTotalAmounts:g[4],tokenPoolContractAddress:g[5],poolIndex:f},w=Object.assign(C,b),e.next=49,t.getAmount(w);case 49:w.poolTotalAmounts=e.sent,t.list.push(w);case 51:f++,e.next=38;break;case 54:console.log(t.list);case 55:case"end":return e.stop()}},e,t,[[11,15,19,27],[20,,22,26]])}))()},getChain:function(t){return"undefined"!=typeof web3&&this.chainObj&&this.chainObj[t]?this.chainObj[t]:{}},getAmount:function(t){var e=this;return o(regeneratorRuntime.mark(function s(){var a,n,r;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=0,n=new web3.eth.Contract(JSON.parse(i.t),t.tokenContractAddress),s.next=4,n.methods.decimals().call();case 4:return r=s.sent,a=e.$util.fromWei(t.poolTotalAmounts,r),s.abrupt("return",a);case 7:case"end":return s.stop()}},s,e)}))()},timewait:function(){var t=this;clearInterval(this.timeId),this.timeId=setInterval(function(){if(t.list.length){var e=(new Date).getTime()/1e3,s=!0,a=!1,n=void 0;try{for(var i,r=t.list[Symbol.iterator]();!(s=(i=r.next()).done);s=!0){var o=i.value,c=parseInt(o.poolStartTime),u=parseInt(o.poolEndTime),l=0,v=0,d=0,m=0,p=0,h=2;e<c?(h=1,p=c-e,l=parseInt(p/3600/24),v=parseInt(24*(parseFloat(p/3600/24)-parseInt(p/3600/24))),d=parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))),m=parseInt(60*(parseFloat(60*(parseFloat(p/3600)-parseInt(p/3600)))-parseInt(60*(parseFloat(p/3600)-parseInt(p/3600)))))):e>u?(h=3,l=0,v=0,d=0,m=0):(p=u-e,l=parseInt(p/3600/24),v=parseInt(24*(parseFloat(p/3600/24)-parseInt(p/3600/24))),d=parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))),m=parseInt(60*(parseFloat(60*(parseFloat(p/3600)-parseInt(p/3600)))-parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))))),h=2),l=(l+100).toString().substring(1),v=(v+100).toString().substring(1),d=(d+100).toString().substring(1),m=(m+100).toString().substring(1),t.$set(o,"poolStatus",h),t.$set(o,"day",l),t.$set(o,"hours",v),t.$set(o,"minutes",d),t.$set(o,"seconds",m)}}catch(t){a=!0,n=t}finally{try{!s&&r.return&&r.return()}finally{if(a)throw n}}}},1e3)},getStatus:function(t){switch(t){case 1:return this.$t("message.ido_3");case 2:return this.$t("message.ido_2");case 3:return this.$t("message.ido_4")}},getStatusSign:function(t){switch(t){case 1:return this.$t("message.ido_3");case 2:return this.$t("message.ido_32");case 3:return this.$t("message.ido_4")}},getBtnDesc:function(t){switch(t.poolStatus){case 1:return this.$t("message.ido_6");case 2:return this.$t("message.ido_5");case 3:return this.$t("message.ido_6")}}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ido"},t._l(t.list,function(e,n){return a("div",{key:n,staticClass:"item"},[a("div",{staticClass:"item-container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"status-sign"},[a("div",{staticClass:"sign-item"},[a("img",{directives:[{name:"show",rawName:"v-show",value:1==e.poolStatus,expression:"item.poolStatus == 1"}],attrs:{src:s("uXOr"),alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:2==e.poolStatus,expression:"item.poolStatus == 2"}],attrs:{src:s("R2lP"),alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:3==e.poolStatus,expression:"item.poolStatus == 3"}],attrs:{src:s("zvc6"),alt:""}}),t._v(" "),a("div",{staticClass:"sign-desc"},[t._v(t._s(t.getStatusSign(e.poolStatus)))])])]),t._v(" "),a("img",{attrs:{src:e.sLogoUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"top-div"},[a("div",{staticClass:"ido-name"},[t._v(t._s(e.sName))]),t._v(" "),a("div",{staticClass:"chain-info"},[a("img",{attrs:{src:t.getChain(e.sChainId).icon,alt:""}}),t._v(" "),a("div",[t._v(t._s(t.getChain(e.sChainId).name))])]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.getSummary(e)))]),t._v(" "),a("div",{staticClass:"amount-container"},[a("div",{staticClass:"amount"},[a("div",{staticClass:"amount-title"},[t._v(t._s(t.$t("message.ido_1")))]),t._v(" "),a("div",{staticClass:"amount-value"},[t._v(t._s(t._f("filterThousands")(e.poolTotalAmounts))+" "+t._s(e.tokenPoolName))])])])]),t._v(" "),a("div",{staticClass:"buttom-div"},[a("div",{staticClass:"status-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.poolStatus,expression:"item.poolStatus == 2"}],staticClass:"status-info status-info1"},[a("i",{staticClass:"iconfont icon-huo"}),t._v(" "),a("span",[t._v(t._s(t.getStatus(e.poolStatus)))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.poolStatus,expression:"item.poolStatus == 1"}],staticClass:"status-info status-info2"},[a("i",{staticClass:"iconfont icon-naozhong1"}),t._v(" "),a("span",[t._v(t._s(t.getStatus(e.poolStatus)))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.poolStatus,expression:"item.poolStatus == 3"}],staticClass:"status-info status-info3"},[a("i",{staticClass:"iconfont icon-jieshu_1"}),t._v(" "),a("span",[t._v(t._s(t.getStatus(e.poolStatus)))])])]),t._v(" "),a("div",{staticClass:"time-p"},[a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[t._v(t._s(e.day))]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_20")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[t._v(t._s(e.hours))]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_21")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[t._v(t._s(e.minutes))]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_22")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[t._v(t._s(e.seconds))]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_23")))])])]),t._v(" "),a("div",{staticClass:"ido-btn shake-shake",on:{click:function(s){return t.$router.push("/ido-detail/"+e.poolIndex)}}},[t._v(t._s(t.getBtnDesc(e)))])])])])])}),0)},staticRenderFns:[]};var l={components:{Ido:s("VU/8")(c,u,!1,function(t){s("Wf7w")},"data-v-27782b06",null).exports},data:function(){return{activeName:"1"}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"launchpad white-bg"},[s("div",{staticClass:"launchpad-title"},[t._v("Launchpad")]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"IDO",name:"1"}},[s("ido")],1)],1)],1)},staticRenderFns:[]};var d=s("VU/8")(l,v,!1,function(t){s("ho/C")},"data-v-21331b23",null);e.default=d.exports},Wf7w:function(t,e){},"ho/C":function(t,e){}});